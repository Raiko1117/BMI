<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMI Calculator</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css
    ">
</head>
<body>
    <div class="container">
            <h1 class="offset-3 col-6">Welcome to BMI Calculator</h1>
            <form class="offset-3 col-6">
                <fieldset>
                  <legend></legend>
                  <div class="mb-3">
                    <label for="disabledTextInput" class="form-label">Your name</label>
                    <input name="Name" type="text" id="disabledTextInput" class="form-control" placeholder="Name">
                  </div>


                  <div class="mb-3">
                    <label for="disabledTextInput" class="form-label">Your weight</label>
                    <input name="Weight" type="number" id="disabledTextInput" class="form-control" placeholder="Weight">
                  </div>
                
                  <div class="mb-3">
                    <label for="disabledTextInput" class="form-label">Your height</label>
                    <input name="Height" type="number" id="disabledTextInput" class="form-control" placeholder="Height">
                  </div>


                  <div class="mb-3">
                    <label for="gender" class="form-label">Gender</label>
                    <select id="gender" class="form-select">
                      <option>Male</option>
                      <option>Female</option>
                    </select>
                  </div>

                  <div class="mb-3">
                    <label for="disabledTextInput" class="form-label">Your age</label>
                    <input name="Age" type="number" id="disabledTextInput" class="form-control" placeholder="Age">
                  </div>


                  <button type="submit" class="btn btn-primary">Submit</button>
                </fieldset>
              </form>
</div>


<script>
    const form = document.querySelector('form')
    const result = document.querySelector('.result')
    const body = document.querySelector('body')

    form .addEventListener('submit', e =>{
        e.preventDefault()
        const {Name, Weight, Height,gender,Age} = Object.fromEntries(new FormData(e.target).entries())

        fetch('http://localhost:3000/bmicalculator', {
            method: 'POST',
            headers: {
                'Content-Type':'application/json'
            },
            body: JSON.stringify({Name,Weight,Height,gender,Age})
        })
            .then(res => res.json())
            .then(data =>{
                // result.textContent = `bmi: ${data['bmi']}\n${data['result']}`
                alert(`bmi: ${data['bmi']}\n${data['result']}`)
            })        
    })

</script>



</body>
</html>